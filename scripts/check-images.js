import fetch from 'node-fetch';\nimport fs from 'fs-extra';\nimport path from 'path';\nimport { fileURLToPath } from 'url';\n\nconst __dirname = path.dirname(fileURLToPath(import.meta.url));\nconst LOCATIONS_DIR = path.join(__dirname, '../src/data/locations');\n\n// Function to check if an image URL exists\nasync function checkImage(url) {\n  try {\n    console.log('Checking image URL:', url);\n    const response = await fetch(url, { method: 'HEAD' });\n    console.log('Response status:', response.status);\n    return response.ok;\n  } catch (error) {\n    console.error('Error checking image:', error.message);\n    return false;\n  }\n}\n\n// Main function to process all location files\nasync function processLocationFiles() {\n  console.log('Starting to process location files for missing images...');\n  \n  // Read all location JSON files\n  const locationFiles = fs.readdirSync(LOCATIONS_DIR)\n    .filter(file => file.endsWith('.json') && !file.includes('copy'));\n\n  console.log(Found  location files to process);\n\n  let totalAppraisers = 0;\n  let checkedImages = 0;\n  let missingImages = 0;\n\n  // Process each location file\n  for (const file of locationFiles) {\n    const locationFilePath = path.join(LOCATIONS_DIR, file);\n    const locationData = JSON.parse(fs.readFileSync(locationFilePath, 'utf8'));\n    \n    // Skip if no appraisers\n    if (!locationData.appraisers || !Array.isArray(locationData.appraisers)) {\n      continue;\n    }\n\n    // Process each appraiser\n    for (const appraiser of locationData.appraisers) {\n      totalAppraisers++;\n      \n      // Check if appraiser has an imageUrl\n      if (appraiser.imageUrl) {\n        checkedImages++;\n        \n        // Check if the image actually exists\n        const imageExists = await checkImage(appraiser.imageUrl);\n        \n        if (!imageExists) {\n          console.log(Missing image for  in );\n          missingImages++;\n        }\n      }\n    }\n  }\n\n  console.log(\nProcessing complete:\n- Total appraisers processed: \n- Total images checked: \n- Total missing images found: \n);\n}\n\n// Run the process\nprocessLocationFiles().catch(error => {\n  console.error('Error processing location files:', error);\n});
