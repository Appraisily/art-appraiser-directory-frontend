# Art Appraiser Directory

This is the frontend for the Art Appraiser Directory, a submodule of the main Appraisily site. It's built with React, TypeScript, and Vite, and generates static HTML pages that can be deployed to Netlify.

## Features

- 📋 Directory of art appraisers across multiple cities
- 🖼️ Individual profile pages for each appraiser
- 🗺️ Location-based search
- 🤖 Automatic image generation for appraisers using AI
- 🏗️ Static site generation for fast, SEO-friendly pages

## Getting Started

### Prerequisites

- Node.js (v16+)
- npm or yarn
- Access to the image generation service (optional, for generating appraiser images)

### Installation

1. Clone the repository (if not already done as part of the main repo):

```bash
git clone https://github.com/your-username/art-appraiser-directory-frontend.git
cd art-appraiser-directory-frontend
```

2. Install dependencies:

```bash
npm install
```

### Development

To start the development server:

```bash
npm run dev
```

This will start a local development server at http://localhost:5173.

## Building and Deployment

### Building for Production

The standard build process compiles TypeScript, builds the React application with Vite, checks for missing images, and generates static HTML files:

```bash
npm run build
```

### Local Build and Deploy

For a streamlined local build process that also checks for the image generation service:

```bash
npm run build:local
```

This will:
1. Check if the local image generation service is running
2. Run the build process
3. Validate the generated files
4. Provide instructions for deployment to Netlify

### Build with Image Generation

To build the site and generate any missing appraiser images:

```bash
npm run build:local:with-images
```

This requires the image generation service to be running.

## Image Generation

The directory includes functionality to automatically generate images for appraisers using AI.

### Setting Up the Image Generation Service

1. Make sure the image generation service is running (either locally or remotely)
2. By default, the script looks for the service at `http://localhost:3000/api/generate`
3. You can override this by setting the `IMAGE_GENERATION_API` environment variable:

```bash
# Windows
$env:IMAGE_GENERATION_API="http://your-image-service-url/api/generate"

# Linux/Mac
export IMAGE_GENERATION_API="http://your-image-service-url/api/generate"
```

### Checking Images

To check all appraiser images for issues:

```bash
npm run check-all-images
```

### Generating Images

To generate images for all appraisers:

```bash
npm run generate-all-images
```

To generate images for specific appraisers:

```bash
npm run request-image
```

This will prompt you for appraiser details.

## Directory Structure

```
art-appraiser-directory-frontend/
├── dist/                   # Build output directory
├── scripts/                # Build and utility scripts
│   ├── check-all-images.js # Script to check image status
│   ├── generate-static.js  # Generates static HTML files
│   ├── generate-all-images.js # Generates images for all appraisers
│   └── local-build-and-deploy.js # Helper for local builds
├── src/
│   ├── components/         # React components
│   ├── data/
│   │   └── locations/      # JSON files with appraiser data by city
│   ├── pages/              # Page components
│   ├── App.tsx             # Main application component
│   └── main.tsx            # Entry point
├── index.html              # HTML template
├── package.json            # Dependencies and scripts
└── vite.config.ts          # Vite configuration
```

## Static Site Generation

The build process generates static HTML files for:

1. The main index/directory page
2. Individual location pages (e.g., `/location/new-york`)
3. Individual appraiser profile pages (e.g., `/appraiser/john-doe-art-appraisals`)

These files are generated by `scripts/generate-static.js` and placed in the `dist` directory.

## Deploying to Netlify

### Manual Deployment

After building the site:

1. Go to [Netlify](https://app.netlify.com/)
2. Drag and drop the `dist` folder to the deploy section

### Using Netlify CLI

```bash
netlify deploy --dir=dist --prod
```

### Using GitHub Continuous Deployment

1. Connect your repository to Netlify
2. Set the build command to: `npm run build`
3. Set the publish directory to: `dist`

## Troubleshooting

### Missing Images

If appraisers are missing images:

1. Run `npm run check-all-images` to identify issues
2. Ensure the image generation service is running
3. Run `npm run generate-all-images` to create missing images
4. Run `npm run build` to rebuild the site with the new images

### Build Issues

If you encounter build issues:

1. Check if all dependencies are installed: `npm install`
2. Verify the image generation service is running (if using image generation)
3. Check for TypeScript errors: `npm run lint`
4. Try cleaning the build directory: `rm -rf dist`

## Contributing

Please read [CONTRIBUTING.md](CONTRIBUTING.md) for details on our code of conduct and the process for submitting pull requests.

## License

This project is proprietary and confidential. Unauthorized copying, transfer, or use is strictly prohibited.